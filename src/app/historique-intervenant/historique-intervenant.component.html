<!DOCTYPE html>
<html lang="fr">
<body>
    <header class="header">
        <h1>Reclamations</h1>
    </header>
    <div class="settings-container">
        <aside class="sidebar">
            <div class="logo-container">
                <img src="assets/1cd2a341-8f62-46aa-a07a-335d4045be1c-removebg-preview.png" alt="Logo" class="logo">
            </div>
            <nav>
                <p class="section-title">Général</p>
                <a routerLink="/dashboard-intervenant" routerLinkActive="active">
                  <i class="fas fa-home" aria-hidden="true"></i> Tableau de Bord
                </a>
                <a routerLink="/historique-intervenant" routerLinkActive="active">
                  <i class="fa fa-history" aria-hidden="true"></i> Mes Reclamations
                </a>
                <p class="section-title">Outils</p>
                <a routerLink="/chat" routerLinkActive="active">
                  <i class="fa fa-commenting" aria-hidden="true"></i> Chat
                </a>
                <a routerLink="/parametre" routerLinkActive="active">
                  <i class="fas fa-cog"></i> Paramètres
                </a>
            </nav>
            <span></span>
            <span></span>
            <button class="logout" (click)="logout()">
                <i class="fas fa-sign-out-alt"></i> Déconnexion
            </button>
        </aside>

        <div class="orders">
            <div class="filters">
                <input class="search-input" type="text" id="searchInput"name="searchInput"placeholder="Rechercher..."(input)="searchTaches($event)">
                <input type="date"#dateFilter id="dateFilter"name="dateFilter"class="date-input"(change)="filterByDate(dateFilter.value)" autocomplete="on">
         <button class="filter-button" (click)="filterByDate(dateFilter.value)">Filtrer</button>
            </div>

            <table>
                <thead>
                    <tr>
                        <th>Nom du Reclamation</th>
                        <th>Description</th>
                        <th>Date de Création</th>
                        <th>Etat</th>
                        <th>Urgence</th>
                        <th>Remarque</th>
                        <th>Actions</th>
                    </tr>
 
                </thead>
                <tbody>
                    <tr *ngFor="let reclamation of reclamationArray">
                        <td>{{reclamation.nom}}</td>
                        <td>{{ reclamation.description }}</td>
                        <td>{{ reclamation.dateCreation }}</td>
                        <td>{{ reclamation.etat }}</td>
                        <td>{{ reclamation.urgence }}</td>
                        <td>{{ reclamation.remarque }}</td>
                        <td>
                            <button class="btn btn-warning btn-sm" title="Modifier" (click)="openEditPopup(reclamation)">
                              <i class="fa fa-pencil" aria-hidden="true"></i>
                            </button>
                          <button class="btn btn-danger btn-sm" title="Supprimer" (click)="setDelete(reclamation)">
                            <i class="fa fa-trash" aria-hidden="true"></i>
                          </button>
                            </td>
                    </tr>
                </tbody>
            </table>

            <div class="pagination">
                <button (click)="previousPage()" [disabled]="currentPage === 1">Précédent</button>
                <button (click)="nextPage()" [disabled]="currentPage === totalPages">Suivant</button>
            </div>
        </div>
    </div>
</body>
</html>
